<!DOCTYPE html>
<html>
<body onload="myFunction()">

<h2>Color-Changing Background</h2>

<p id="number"></p>
<p id="color"></p>
<p id="textcolor"></p>

<script>
function myFunction() {
setInterval(function(){ 
  var date = new Date();
  var time = date.getTime();
  var rate = 100;
  var p = Math.floor((time/rate) % 1530);
  var red = "ff";
  var green = "ff";
  var blue = "ff";
  if (p < 255) {
    red = "ff";
    green = p.toString(16);
    blue = "00";
  }
  if (p >= 255 && p < 510) {
    red = (510 - p).toString(16);
    green = "ff";
    blue = "00";
  }
  if (p >= 510 && p < 765) {
    red = "00";
    green = "ff";
    blue = (p - 510).toString(16);
  }
  if (p >= 765 && p < 1020) {
    red = "00";
    green = (1020 - p).toString(16);
    blue = "ff";
  }  
  if (p >= 1020 && p < 1275) {
    red = (p - 1020).toString(16);
    green = "00";
    blue = "ff";
  }
  if (p >= 1275 && p < 1530) {
    red = "ff";
    green = "00";
    blue = (1530 - p).toString(16);
  }


  function invert(color) {
    inverted = 255 - parseInt(color, 16);
    hex = inverted.toString(16);
    if (inverted < 16) {return ("0" + hex);}
    else {return hex;}
  }

  var textRed = invert(red);
  var textGreen = invert(green);
  var textBlue = invert(blue);

  document.getElementById("textcolor").innerHTML = "#" + textRed + textGreen + textBlue;
  document.body.style.color = "#" + textRed + textGreen + textBlue;  
  const hexp = p.toString(16);
  document.getElementById("number").innerHTML = "Counter: " + p;
  document.getElementById("color").innerHTML = "color: #" + red + green + blue + " (red: " + red + " green: " + green + " blue: " + blue + ")";  
  document.body.style.backgroundColor = "#" + red + green + blue; 
}, 1);
}
</script>

</body>
</html>

